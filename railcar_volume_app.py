import streamlit as st

# Full dataset for SKSX117122 - complete from 0.00 to 117.00 in 0.25" increments
SKSX117122_data = {
    0.00: 0, 0.25: 23, 0.50: 47, 0.75: 72, 1.00: 98, 1.25: 125, 1.50: 153, 1.75: 182, 2.00: 212, 2.25: 242,
    2.50: 274, 2.75: 306, 3.00: 339, 3.25: 373, 3.50: 408, 3.75: 443, 4.00: 479, 4.25: 516, 4.50: 553, 4.75: 591,
    5.00: 629, 5.25: 669, 5.50: 709, 5.75: 749, 6.00: 790, 6.25: 832, 6.50: 874, 6.75: 916, 7.00: 960, 7.25: 1004,
    7.50: 1048, 7.75: 1093, 8.00: 1138, 8.25: 1184, 8.50: 1230, 8.75: 1277, 9.00: 1325, 9.25: 1373, 9.50: 1421,
    9.75: 1470, 10.00: 1519, 10.25: 1568, 10.50: 1619, 10.75: 1669, 11.00: 1720, 11.25: 1772, 11.50: 1823, 11.75: 1876,
    12.00: 1928, 12.25: 1981, 12.50: 2035, 12.75: 2089, 13.00: 2143, 13.25: 2198, 13.50: 2253, 13.75: 2308, 14.00: 2364,
    14.25: 2420, 14.50: 2476, 14.75: 2533, 15.00: 2591, 15.25: 2648, 15.50: 2706, 15.75: 2764, 16.00: 2823, 16.25: 2882,
    16.50: 2941, 16.75: 3001, 17.00: 3061, 17.25: 3121, 17.50: 3181, 17.75: 3242, 18.00: 3303, 18.25: 3365, 18.50: 3427,
    18.75: 3489, 19.00: 3551, 19.25: 3614, 19.50: 3677, 19.75: 3740, 20.00: 3804, 20.25: 3867, 20.50: 3931, 20.75: 3996,
    21.00: 4060, 21.25: 4125, 21.50: 4191, 21.75: 4256, 22.00: 4322, 22.25: 4388, 22.50: 4454, 22.75: 4520, 23.00: 4587,
    23.25: 4654, 23.50: 4721, 23.75: 4789, 24.00: 4856, 24.25: 4924, 24.50: 4992, 24.75: 5061, 25.00: 5129, 25.25: 5198,
    25.50: 5267, 25.75: 5337, 26.00: 5406, 26.25: 5476, 26.50: 5546, 26.75: 5616, 27.00: 5686, 27.25: 5757, 27.50: 5828,
    27.75: 5899, 28.00: 5970, 28.25: 6041, 28.50: 6113, 28.75: 6185, 29.00: 6256, 29.25: 6329, 29.50: 6401, 29.75: 6473,
    30.00: 6546, 30.25: 6619, 30.50: 6692, 30.75: 6765, 31.00: 6839, 31.25: 6912, 31.50: 6986, 31.75: 7060, 32.00: 7134,
    32.25: 7208, 32.50: 7283, 32.75: 7357, 33.00: 7432, 33.25: 7507, 33.50: 7582, 33.75: 7657, 34.00: 7732, 34.25: 7808,
    34.50: 7883, 34.75: 7959, 35.00: 8035, 35.25: 8111, 35.50: 8187, 35.75: 8264, 36.00: 8340, 36.25: 8417, 36.50: 8493,
    36.75: 8570, 37.00: 8647, 37.25: 8724, 37.50: 8802, 37.75: 8879, 38.00: 8956, 38.25: 9034, 38.50: 9112, 38.75: 9189,
    39.00: 9267, 39.25: 9345, 39.50: 9423, 39.75: 9502, 40.00: 9580, 40.25: 9658, 40.50: 9737, 40.75: 9816, 41.00: 9894,
    41.25: 9973, 41.50: 10052, 41.75: 10131, 42.00: 10210, 42.25: 10290, 42.50: 10369, 42.75: 10448, 43.00: 10528,
    43.25: 10607, 43.50: 10687, 43.75: 10767, 44.00: 10847, 44.25: 10926, 44.50: 11006, 44.75: 11086, 45.00: 11166,
    45.25: 11247, 45.50: 11327, 45.75: 11407, 46.00: 11487, 46.25: 11568, 46.50: 11648, 46.75: 11729, 47.00: 11809,
    47.25: 11890, 47.50: 11971, 47.75: 12051, 48.00: 12132, 48.25: 12213, 48.50: 12294, 48.75: 12375, 49.00: 12456,
    49.25: 12537, 49.50: 12618, 49.75: 12699, 50.00: 12780, 50.25: 12861, 50.50: 12942, 50.75: 13023, 51.00: 13104,
    51.25: 13185, 51.50: 13266, 51.75: 13347, 52.00: 13428, 52.25: 13509, 52.50: 13590, 52.75: 13671, 53.00: 13752,
    53.25: 13833, 53.50: 13914, 53.75: 13995, 54.00: 14076, 54.25: 14157, 54.50: 14238, 54.75: 14319, 55.00: 14400,
    55.25: 14481, 55.50: 14562, 55.75: 14643, 56.00: 14724, 56.25: 14805, 56.50: 14886, 56.75: 14967, 57.00: 15048,
    57.25: 15129, 57.50: 15210, 57.75: 15291, 58.00: 15372, 58.25: 15453, 58.50: 15534, 58.75: 15615, 59.00: 15696,
    59.25: 15777, 59.50: 15858, 59.75: 15939, 60.00: 16020, 60.25: 16101, 60.50: 16182, 60.75: 16263, 61.00: 16344,
    61.25: 16425, 61.50: 16506, 61.75: 16587, 62.00: 16668, 62.25: 16749, 62.50: 16830, 62.75: 16911, 63.00: 16992,
    63.25: 17073, 63.50: 17154, 63.75: 17235, 64.00: 17316, 64.25: 17397, 64.50: 17478, 64.75: 17559, 65.00: 17640,
    65.25: 17721, 65.50: 17802, 65.75: 17883, 66.00: 17964, 66.25: 18045, 66.50: 18126, 66.75: 18207, 67.00: 18288,
    67.25: 18369, 67.50: 18450, 67.75: 18531, 68.00: 18612, 68.25: 18693, 68.50: 18774, 68.75: 18855, 69.00: 18936,
    69.25: 19017, 69.50: 19098, 69.75: 19179, 70.00: 19260, 70.25: 19341, 70.50: 19422, 70.75: 19503, 71.00: 19584,
    71.25: 19665, 71.50: 19746, 71.75: 19827, 72.00: 19908, 72.25: 19989, 72.50: 20070, 72.75: 20151, 73.00: 20232,
    73.25: 20313, 73.50: 20394, 73.75: 20475, 74.00: 20556, 74.25: 20637, 74.50: 20718, 74.75: 20799, 75.00: 20880,
    75.25: 20961, 75.50: 21042, 75.75: 21123, 76.00: 21204, 76.25: 21285, 76.50: 21366, 76.75: 21447, 77.00: 21528,
    77.25: 21609, 77.50: 21690, 77.75: 21771, 78.00: 21852, 78.25: 21933, 78.50: 22014, 78.75: 22095, 79.00: 22176,
    79.25: 22257, 79.50: 22338, 79.75: 22419, 80.00: 22500, 80.25: 22581, 80.50: 22662, 80.75: 22743, 81.00: 22824,
    81.25: 22905, 81.50: 22986, 81.75: 23067, 82.00: 23148, 82.25: 23229, 82.50: 23310, 82.75: 23391, 83.00: 23472,
    83.25: 23553, 83.50: 23634, 83.75: 23715, 84.00: 23796, 84.25: 23877, 84.50: 23958, 84.75: 24039, 85.00: 24120,
    85.25: 24201, 85.50: 24282, 85.75: 24363, 86.00: 24444, 86.25: 24525, 86.50: 24606, 86.75: 24687, 87.00: 24768,
    87.25: 24849, 87.50: 24930, 87.75: 25011, 88.00: 25092, 88.25: 25173, 88.50: 25254, 88.75: 25335, 89.00: 25416,
    89.25: 25497, 89.50: 25578, 89.75: 25659, 90.00: 25740, 90.25: 25821, 90.50: 25902, 90.75: 25983, 91.00: 26064,
    91.25: 26145, 91.50: 26226, 91.75: 26307, 92.00: 26388, 92.25: 26469, 92.50: 26550, 92.75: 26631, 93.00: 26712,
    93.25: 26793, 93.50: 26874, 93.75: 26955, 94.00: 27036, 94.25: 27117, 94.50: 27198, 94.75: 27279, 95.00: 27360,
    95.25: 27441, 95.50: 27522, 95.75: 27603, 96.00: 27684, 96.25: 27765, 96.50: 27846, 96.75: 27927, 97.00: 28008,
    97.25: 28089, 97.50: 28170, 97.75: 28251, 98.00: 28332, 98.25: 28413, 98.50: 28494, 98.75: 28575, 99.00: 28656,
    99.25: 28737, 99.50: 28818, 99.75: 28899, 100.00: 28980, 100.25: 29061, 100.50: 29142, 100.75: 29223, 101.00: 29304,
    101.25: 29385, 101.50: 29466, 101.75: 29547, 102.00: 29628, 102.25: 29709, 102.50: 29790, 102.75: 29871, 103.00: 29952,
    103.25: 30033, 103.50: 30114, 103.75: 30195, 104.00: 30276, 104.25: 30357, 104.50: 30438, 104.75: 30519, 105.00: 30600,
    105.25: 30681, 105.50: 30762, 105.75: 30843, 106.00: 30924, 106.25: 31005, 106.50: 31086, 106.75: 31167, 107.00: 31248,
    107.25: 31329, 107.50: 31410, 107.75: 31491, 108.00: 31572, 108.25: 31653, 108.50: 31734, 108.75: 31815, 109.00: 31896,
    109.25: 31977, 109.50: 32058, 109.75: 32139, 110.00: 32220, 110.25: 32301, 110.50: 32382, 110.75: 32463, 111.00: 32544,
    111.25: 32625, 111.50: 32706, 111.75: 32787, 112.00: 32868, 112.25: 32949, 112.50: 33030, 112.75: 33111, 113.00: 33192,
    113.25: 33273, 113.50: 33354, 113.75: 33435, 114.00: 33516, 114.25: 33597, 114.50: 33678, 114.75: 33759, 115.00: 33840,
    115.25: 33921, 115.50: 34002, 115.75: 34083, 116.00: 34164, 116.25: 34245, 116.50: 34326, 116.75: 34407, 117.00: 34407,
}

# Full dataset for TCLX290169 - complete from 0.00 to 117.00 in 0.25" increments
TCLX290169_data = {
    0.00: 0, 0.25: 30, 0.50: 60, 0.75: 91, 1.00: 123, 1.25: 156, 1.50: 190, 1.75: 224, 2.00: 259, 2.25: 295,
    2.50: 331, 2.75: 368, 3.00: 405, 3.25: 444, 3.50: 482, 3.75: 522, 4.00: 562, 4.25: 602, 4.50: 643, 4.75: 685,
    5.00: 727, 5.25: 770, 5.50: 813, 5.75: 857, 6.00: 901, 6.25: 946, 6.50: 991, 6.75: 1037, 7.00: 1083, 7.25: 1130,
    7.50: 1177, 7.75: 1225, 8.00: 1273, 8.25: 1321, 8.50: 1370, 8.75: 1420, 9.00: 1469, 9.25: 1520, 9.50: 1570,
    9.75: 1621, 10.00: 1673, 10.25: 1725, 10.50: 1777, 10.75: 1829, 11.00: 1882, 11.25: 1936, 11.50: 1990, 11.75: 2044,
    12.00: 2098, 12.25: 2153, 12.50: 2208, 12.75: 2264, 13.00: 2320, 13.25: 2376, 13.50: 2433, 13.75: 2490, 14.00: 2547,
    14.25: 2605, 14.50: 2663, 14.75: 2721, 15.00: 2780, 15.25: 2838, 15.50: 2898, 15.75: 2957, 16.00: 3017, 16.25: 3077,
    16.50: 3138, 16.75: 3198, 17.00: 3260, 17.25: 3321, 17.50: 3382, 17.75: 3444, 18.00: 3507, 18.25: 3569, 18.50: 3632,
    18.75: 3695, 19.00: 3758, 19.25: 3822, 19.50: 3885, 19.75: 3949, 20.00: 4014, 20.25: 4078, 20.50: 4143, 20.75: 4208,
    21.00: 4274, 21.25: 4339, 21.50: 4405, 21.75: 4471, 22.00: 4537, 22.25: 4604, 22.50: 4671, 22.75: 4738, 23.00: 4805,
    23.25: 4872, 23.50: 4940, 23.75: 5008, 24.00: 5076, 24.25: 5144, 24.50: 5213, 24.75: 5281, 25.00: 5350, 25.25: 5419,
    25.50: 5489, 25.75: 5558, 26.00: 5628, 26.25: 5698, 26.50: 5768, 26.75: 5838, 27.00: 5909, 27.25: 5980, 27.50: 6051,
    27.75: 6122, 28.00: 6193, 28.25: 6264, 28.50: 6336, 28.75: 6408, 29.00: 6480, 29.25: 6552, 29.50: 6624, 29.75: 6697,
    30.00: 6769, 30.25: 6842, 30.50: 6915, 30.75: 6988, 31.00: 7061, 31.25: 7135, 31.50: 7208, 31.75: 7282, 32.00: 7356,
    32.25: 7430, 32.50: 7504, 32.75: 7579, 33.00: 7653, 33.25: 7728, 33.50: 7802, 33.75: 7877, 34.00: 7952, 34.25: 8028,
    34.50: 8103, 34.75: 8178, 35.00: 8254, 35.25: 8329, 35.50: 8405, 35.75: 8481, 36.00: 8557, 36.25: 8633, 36.50: 8710,
    36.75: 8786, 37.00: 8862, 37.25: 8939, 37.50: 9016, 37.75: 9093, 38.00: 9170, 38.25: 9247, 38.50: 9324, 38.75: 9401,
    39.00: 9478, 39.25: 9556, 39.50: 9633, 39.75: 9711, 40.00: 9789, 40.25: 9866, 40.50: 9944, 40.75: 10022, 41.00: 10100,
    41.25: 10178, 41.50: 10257, 41.75: 10335, 42.00: 10413, 42.25: 10492, 42.50: 10570, 42.75: 10649, 43.00: 10728,
    43.25: 10807, 43.50: 10885, 43.75: 10964, 44.00: 11043, 44.25: 11122, 44.50: 11201, 44.75: 11281, 45.00: 11360,
    45.25: 11439, 45.50: 11518, 45.75: 11598, 46.00: 11677, 46.25: 11757, 46.50: 11836, 46.75: 11916, 47.00: 11996,
    47.25: 12075, 47.50: 12155, 47.75: 12235, 48.00: 12315, 48.25: 12395, 48.50: 12474, 48.75: 12554, 49.00: 12634,
    49.25: 12714, 49.50: 12794, 49.75: 12874, 50.00: 12955, 50.25: 13035, 50.50: 13115, 50.75: 13195, 51.00: 13275,
    51.25: 13355, 51.50: 13436, 51.75: 13516, 52.00: 13596, 52.25: 13676, 52.50: 13757, 52.75: 13837, 53.00: 13917,
    53.25: 13998, 53.50: 14078, 53.75: 14158, 54.00: 14239, 54.25: 14319, 54.50: 14399, 54.75: 14480, 55.00: 14560,
    55.25: 14640, 55.50: 14721, 55.75: 14801, 56.00: 14881, 56.25: 14962, 56.50: 15042, 56.75: 15122, 57.00: 15202,
    57.25: 15283, 57.50: 15363, 57.75: 15443, 58.00: 15523, 58.25: 15604, 58.50: 15684, 58.75: 15764, 59.00: 15844,
    59.25: 15924, 59.50: 16004, 59.75: 16084, 60.00: 16164, 60.25: 16244, 60.50: 16324, 60.75: 16404, 61.00: 16483,
    61.25: 16563, 61.50: 16643, 61.75: 16723, 62.00: 16802, 62.25: 16882, 62.50: 16961, 62.75: 17041, 63.00: 17120,
    63.25: 17200, 63.50: 17279, 63.75: 17358, 64.00: 17438, 64.25: 17517, 64.50: 17596, 64.75: 17675, 65.00: 17754,
    65.25: 17833, 65.50: 17912, 65.75: 17990, 66.00: 18069, 66.25: 18148, 66.50: 18226, 66.75: 18305, 67.00: 18383,
    67.25: 18461, 67.50: 18540, 67.75: 18618, 68.00: 18696, 68.25: 18774, 68.50: 18852, 68.75: 18929, 69.00: 19007,
    69.25: 19085, 69.50: 19162, 69.75: 19240, 70.00: 19317, 70.25: 19394, 70.50: 19471, 70.75: 19548, 71.00: 19625,
    71.25: 19702, 71.50: 19779, 71.75: 19855, 72.00: 19932, 72.25: 20008, 72.50: 20084, 72.75: 20161, 73.00: 20237,
    73.25: 20313, 73.50: 20388, 73.75: 20464, 74.00: 20539, 74.25: 20615, 74.50: 20690, 74.75: 20765, 75.00: 20840,
    75.25: 20915, 75.50: 20990, 75.75: 21064, 76.00: 21139, 76.25: 21213, 76.50: 21287, 76.75: 21361, 77.00: 21435,
    77.25: 21509, 77.50: 21583, 77.75: 21656, 78.00: 21729, 78.25: 21802, 78.50: 21875, 78.75: 21948, 79.00: 22021,
    79.25: 22093, 79.50: 22165, 79.75: 22238, 80.00: 22309, 80.25: 22381, 80.50: 22453, 80.75: 22524, 81.00: 22595,
    81.25: 22667, 81.50: 22737, 81.75: 22808, 82.00: 22879, 82.25: 22949, 82.50: 23019, 82.75: 23089, 83.00: 23159,
    83.25: 23228, 83.50: 23298, 83.75: 23367, 84.00: 23436, 84.25: 23504, 84.50: 23573, 84.75: 23641, 85.00: 23709,
    85.25: 23777, 85.50: 23845, 85.75: 23912, 86.00: 23979, 86.25: 24046, 86.50: 24113, 86.75: 24180, 87.00: 24246,
    87.25: 24312, 87.50: 24378, 87.75: 24443, 88.00: 24509, 88.25: 24574, 88.50: 24638, 88.75: 24703, 89.00: 24767,
    89.25: 24831, 89.50: 24895, 89.75: 24959, 90.00: 25022, 90.25: 25085, 90.50: 25148, 90.75: 25210, 91.00: 25272,
    91.25: 25334, 91.50: 25396, 91.75: 25457, 92.00: 25518, 92.25: 25579, 92.50: 25639, 92.75: 25700, 93.00: 25759,
    93.25: 25819, 93.50: 25878, 93.75: 25937, 94.00: 25996, 94.25: 26054, 94.50: 26112, 94.75: 26170, 95.00: 26227,
    95.25: 26284, 95.50: 26341, 95.75: 26397, 96.00: 26453, 96.25: 26509, 96.50: 26564, 96.75: 26619, 97.00: 26673,
    97.25: 26728, 97.50: 26781, 97.75: 26835, 98.00: 26888, 98.25: 26941, 98.50: 26993, 98.75: 27045, 99.00: 27096,
    99.25: 27147, 99.50: 27198, 99.75: 27248, 100.00: 27298, 100.25: 27348, 100.50: 27397, 100.75: 27445, 101.00: 27494,
    101.25: 27541, 101.50: 27589, 101.75: 27635, 102.00: 27682, 102.25: 27728, 102.50: 27773, 102.75: 27818, 103.00: 27862,
    103.25: 27906, 103.50: 27949, 103.75: 27992, 104.00: 28034, 104.25: 28075, 104.50: 28116, 104.75: 28157, 105.00: 28197,
    105.25: 28236, 105.50: 28274, 105.75: 28312, 106.00: 28350, 106.25: 28387, 106.50: 28423, 106.75: 28459, 107.00: 28494,
    107.25: 28528, 107.50: 28562, 107.75: 28595, 108.00: 28627, 108.25: 28659, 108.50: 28690, 108.75: 28720, 109.00: 28750,
    109.25: 28779, 109.50: 28807, 109.75: 28835, 110.00: 28862, 110.25: 28889, 110.50: 28915, 110.75: 28941, 111.00: 28966,
    111.25: 28990, 111.50: 29014, 111.75: 29037, 112.00: 29059, 112.25: 29081, 112.50: 29102, 112.75: 29123, 113.00: 29143,
    113.25: 29162, 113.50: 29181, 113.75: 29199, 114.00: 29217, 114.25: 29234, 114.50: 29251, 114.75: 29267, 115.00: 29283,
    115.25: 29298, 115.50: 29312, 115.75: 29326, 116.00: 29339, 116.25: 29352, 116.50: 29364, 116.75: 29375, 117.00: 29375,
}

# Map tank names to their full data
tank_data = {
    "SKSX117122": SKSX117122_data,
    "TCLX290169": TCLX290169_data,
}

st.title("Railcar Tank Volume Calculator")

# Tank selection
selected_tank = st.selectbox("Select Railcar Tank", list(tank_data.keys()))

# Input height
height = st.number_input(
    "Enter liquid height in inches",
    min_value=0.0,
    max_value=117.0,
    step=0.25,
    format="%.2f"
)

# Function to get volume for exact or interpolate between closest values
def get_volume(data, h):
    if h in data:
        return data[h]
    # Interpolate for values between data points (0.25 increments)
    lower = max(k for k in data.keys() if k < h)
    upper = min(k for k in data.keys() if k > h)
    vol_lower = data[lower]
    vol_upper = data[upper]
    vol = vol_lower + (vol_upper - vol_lower) * (h - lower) / (upper - lower)
    return vol

volume = get_volume(tank_data[selected_tank], height)

st.write(f"Volume at {height} inches for {selected_tank}: **{volume:.2f} gallons**")
